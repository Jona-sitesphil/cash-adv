<div class="requests-container">
  <h2>My Requests</h2>
  <p>View and track the status of your cash advance requests.</p>

  <div class="header">
    <!-- New Request Button -->
    <button class="new-request-btn" (click)="openEmployeeModal()">
      <mat-icon>add</mat-icon> New Request
    </button>
    <!-- Optional Refresh Button (if you want manual refresh without full reload) -->
    <button class="refresh-btn" (click)="loadRequests()">
      <mat-icon>refresh</mat-icon> Refresh
    </button>
  </div>

  <div class="request-list">
    <div class="request-item" *ngFor="let request of requests">
      <div class="request-header">
        <strong>{{ request.userName }}</strong>
        <span class="status" [ngClass]="request.requestStatus.toLowerCase()">
          {{ request.requestStatus }}
        </span>
      </div>
      <p>{{ request.reason }}</p>
      <small>
        Amount: â‚±{{ request.amount | number : "1.2-2" }} | Needed:
        {{ request.neededDate | date : "mediumDate" }} | Requested:
        {{ request.requestDate | date : "medium" }}
      </small>
      <button class="details-btn">
        <mat-icon>visibility</mat-icon> Details
      </button>
    </div>
  </div>
</div>

<!-- Employee Modal for Creating a New Request -->
<app-employee-modal
  *ngIf="isModalOpen"
  (closeModalEvent)="closeEmployeeModal()"
  (submitRequestEvent)="addNewRequest($event)"
>
</app-employee-modal>
